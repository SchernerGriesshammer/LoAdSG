<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LoAdSG: Grid Generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LoAdSG
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gridgeneration.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Grid Generation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md8"></a>
Configuring the Grid</h2>
<p>Start with defining the dimensionality of the grid. This is done by modifying the configuration file located at:</p>
<p><code>"library/source/abbrevi.h"</code></p>
<p>Example definition: </p><div class="fragment"><div class="line"><span class="preprocessor">#define DimensionSparseGrid 2</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Regular sparse grid</h2>
<p>This example initializes a regular sparse grid, using the class <a class="el" href="class_adaptive_sparse_grid.html">AdaptiveSparseGrid</a>, refines it recursively around a center point, and outputs its structure in both textual and GNU plotting formats. It illustrates how to:</p><ul>
<li>Define the refinement level of the grid.</li>
<li>Add recursive sons (children) of a given point.</li>
<li>Print grid points at specified levels.</li>
<li>Export the grid structure for visualization.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;source/sparseEXPDE.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_adaptive_sparse_grid.html">AdaptiveSparseGrid</a> regular_grid;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> level=3;</div>
<div class="line">    IndexDimension centerPoint;</div>
<div class="line"> </div>
<div class="line">    regular_grid.AddRecursiveSonsOfPoint(centerPoint,level);</div>
<div class="line"> </div>
<div class="line">    regular_grid.<a class="code hl_function" href="class_adaptive_sparse_grid___base.html#afba92ad8bd28d0571f67e7d17b05e86c">PrintActiveHanging</a>(level);</div>
<div class="line">    regular_grid.<a class="code hl_function" href="class_adaptive_sparse_grid___base.html#afba92ad8bd28d0571f67e7d17b05e86c">PrintActiveHanging</a>(2);</div>
<div class="line">    regular_grid.<a class="code hl_function" href="class_adaptive_sparse_grid___base.html#a5e69df610de955884ad1cd0f394afcfa">Print_gnu</a>(<span class="stringliteral">&quot;grid.gnu&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_adaptive_sparse_grid___base_html_a5e69df610de955884ad1cd0f394afcfa"><div class="ttname"><a href="class_adaptive_sparse_grid___base.html#a5e69df610de955884ad1cd0f394afcfa">AdaptiveSparseGrid_Base::Print_gnu</a></div><div class="ttdeci">void Print_gnu(string name)</div><div class="ttdoc">Prints coordinates of adaptive sparse grid in gnu-file.</div><div class="ttdef"><b>Definition</b> sparseGrid.cc:258</div></div>
<div class="ttc" id="aclass_adaptive_sparse_grid___base_html_afba92ad8bd28d0571f67e7d17b05e86c"><div class="ttname"><a href="class_adaptive_sparse_grid___base.html#afba92ad8bd28d0571f67e7d17b05e86c">AdaptiveSparseGrid_Base::PrintActiveHanging</a></div><div class="ttdeci">void PrintActiveHanging(int level)</div><div class="ttdoc">prints active nodes (o) and hanging nodes (x)</div><div class="ttdef"><b>Definition</b> sparseGrid.cc:139</div></div>
<div class="ttc" id="aclass_adaptive_sparse_grid_html"><div class="ttname"><a href="class_adaptive_sparse_grid.html">AdaptiveSparseGrid</a></div><div class="ttdef"><b>Definition</b> sparseGrid.h:277</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Adaptive Sparse Grid</h2>
<p>Next, we want to generate an adaptive sparse grid. Let us do this in more detail. We start by initializing an adaptive sparse grid, defining grid points (IndexDimension) and adding them to our grid.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;source/sparseEXPDE.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_adaptive_sparse_grid.html">AdaptiveSparseGrid</a> adaptiveSparseGrid;</div>
<div class="line">    <span class="keywordtype">int</span> level = 3;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    IndexDimension centerPoint;</div>
<div class="line">    IndexDimension bottomLeft = centerPoint.leftSon(0).leftSon(1).leftSon(0).leftSon(1);</div>
<div class="line">    IndexDimension topRight = centerPoint.rightSon(0).rightSon(1).rightSon(0).rightSon(1);</div>
<div class="line"> </div>
<div class="line">    adaptiveSparseGrid.<a class="code hl_function" href="class_adaptive_sparse_grid.html#a504643e907d58651c282fdae1dfbce82">AddPoint</a>(bottomLeft);</div>
<div class="line">    adaptiveSparseGrid.<a class="code hl_function" href="class_adaptive_sparse_grid.html#a504643e907d58651c282fdae1dfbce82">AddPoint</a>(topRight);</div>
<div class="ttc" id="aclass_adaptive_sparse_grid_html_a504643e907d58651c282fdae1dfbce82"><div class="ttname"><a href="class_adaptive_sparse_grid.html#a504643e907d58651c282fdae1dfbce82">AdaptiveSparseGrid::AddPoint</a></div><div class="ttdeci">bool AddPoint(const IndexDimension I)</div><div class="ttdef"><b>Definition</b> sparseGrid.cc:482</div></div>
</div><!-- fragment --><p>In order to perform a Matrix-Vector-Multiplication on such a grid, we need to add grid points.</p>
<p>This is done as follows: </p><div class="fragment"><div class="line">    adaptiveSparseGrid.completeDirichletGrid();</div>
</div><!-- fragment --><p>Finally we can export the grid structure. </p><div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line">    adaptiveSparseGrid.<a class="code hl_function" href="class_adaptive_sparse_grid___base.html#afba92ad8bd28d0571f67e7d17b05e86c">PrintActiveHanging</a>(level);</div>
<div class="line">    adaptiveSparseGrid.<a class="code hl_function" href="class_adaptive_sparse_grid___base.html#a5e69df610de955884ad1cd0f394afcfa">Print_gnu</a>(<span class="stringliteral">&quot;grid.gnu&quot;</span>);</div>
<div class="line">    adaptiveSparseGrid.Print_vtk(<span class="stringliteral">&quot;grid.vtk&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    cout &lt;&lt; adaptiveSparseGrid.getDOFS() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; adaptiveSparseGrid.getHangingNodes() &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="usage_example_page.html">Usage Examples</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
